<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>JSON</title>
        <link rel="stylesheet" href="style.css"/>
        <div id="banner"></div>
        <nav>
            <a href="./index.html">Home</a>
            <a href="./index2.html">Approfondimenti</a>
            <a href="index3.html">Tabella</a>
            <a href="index4.html">Modifica utenti</a>
        </nav>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    </head>
    <body>
        <div id="app">
            <h2>Inserisci un nuovo utente:</h2>
            <form @submit.prevent="addUser" v-if="!editingUser">
                <label for="nome">Nome:</label>
                <input type="text" id="nome" v-model="newUser.nome" required>
                <br>
                <label for="cognome">Cognome:</label>
                <input type="text" id="cognome" v-model="newUser.cognome" required>
                <br>
                <button type="submit">Aggiungi</button>
            </form>

            <ul>
                <h2>Lista Utenti:</h2>
                <li v-for="user in users">
                    {{ user.nome }} {{ user.cognome }}
                    <button @click="editUser(user)">Modifica</button>
                    <button @click="deleteUser(user)">Elimina</button>
                </li>
            </ul>

            <h2>Modifica Utente:</h2>
            <form v-if="editingUser" @submit.prevent="saveUser">
                <label for="nome">Nome:</label>
                <input type="text" v-model="editingUser.nome" required>
                <br>
                <label for="cognome">Cognome:</label>
                <input type="text" v-model="editingUser.cognome" required>
                <br>
                <button type="submit">Salva</button>
                <button @click="cancelEdit">Annulla</button>
            </form>
        </div>

        <script src="user.js"></script>
        <script src="user.json"></script>
        <footer id="ft4">
            <h3>Progetto ideato da: Cappella Filippo, Luca Vignali<br>
                Fonti: Amazon AWS, Sparkfabrik, Wikipedia, JSONPlaceholder</h3>
        </footer>
    </body>
</html>